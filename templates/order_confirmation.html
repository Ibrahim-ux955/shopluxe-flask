{% extends 'base.html' %}
{% block content %}
<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card shadow p-4">
        <h3 class="text-center text-success mb-4">üéâ Order Confirmed</h3>

        <p><strong>Name:</strong> {{ order['name'] }}</p>
        <p><strong>Email:</strong> {{ order['email'] }}</p>
        <p><strong>Phone:</strong> {{ order['phone'] }}</p>
        <p>Order placed on: <span class="time-display" data-time="{{ order.timestamp }}"></span></p>

        <script>
  document.addEventListener("DOMContentLoaded", function() {
    document.querySelectorAll(".time-display").forEach(el => {
      const utcTime = el.dataset.time;
      if (!utcTime) return;

      const localTime = new Date(utcTime).toLocaleString([], {
        year: 'numeric',
        month: 'short',
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit'
      });

      el.textContent = localTime + " (local time)";
    });
  });
</script>



        <h5 class="mt-4">Order Items</h5>
        <ul class="list-group mb-3">
          {% for item in order['items'] %}
            <li class="list-group-item d-flex justify-content-between">
              {{ item['name'] }} x{{ item['quantity'] }}
              <span>GH‚Çµ {{ item['price'] }}</span>
            </li>
          {% endfor %}
          <li class="list-group-item d-flex justify-content-between">
            <strong>Total:</strong>
            <strong>GH‚Çµ {{ order['total'] }}</strong>
          </li>
        </ul>

        <div class="text-center">
          <a href="/" class="btn btn-primary">üè† Back to Home</a>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
